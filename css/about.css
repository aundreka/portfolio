

:root{
  --staff-gap: 48px;
  --staff-thick: 2px;
  --staff-start-mask: calc(28vw + 210px);

  --staff-runway-top: 120px;
  --staff-runway-bottom: 180px;

 
  --note-size: clamp(40px, 10.5vw, 80px);
}

.about{
    --vignette-opacity: 0;

  --dim-opacity: 0.28;
  --dim-blur: 0.2px;
  --dim-saturate: 0.78;
  --space-opacity: 0;          /* 0..1 */
  --stars-opacity: 0;          /* 0..1 */
  --staff-opacity: 0;          /* 0..1 */
  --about-accent: #ffffff;
  background: #fff;
  overflow: visible;
  isolation: isolate;
  transition: color 600ms ease;

  display: block !important;
  place-items: unset !important;
  height: auto !important;
  min-height: 100vh;
  padding-top: var(--scrubber-space);
  position: relative;
}
.about::before{
  content:"";
  position:absolute;
  inset:0;
  z-index:0;
  pointer-events:none;

  opacity: var(--space-opacity);
  transition: opacity 900ms ease;

  /* deep space, but not too contrasty */
  background:
    radial-gradient(
      ellipse at bottom,
      color-mix(in srgb, var(--about-accent) 12%, #1B2735) 0%,
      #0b0f18 60%,
      #07080d 100%
    );
}
.about__scroller{
  width: 100%;
  min-height: 100vh;
  position: relative;
  overflow-x: auto;
  overflow-y: visible;

  scrollbar-width: none;
  -ms-overflow-style: none;
}
.about__scroller::-webkit-scrollbar{ display: none; }

.strip{
  position: relative;
  display: inline-flex;
  align-items: flex-start;
  gap: clamp(120px, 12vw, 220px);

  padding:
    var(--staff-runway-top)
    clamp(32px, 4vw, 64px)
    var(--staff-runway-bottom);
}



.staff-lines{
  position: absolute;
  left: 0;
  right: 0;
  inset: 0;
  z-index: 1;
  pointer-events: none;
  overflow: visible;
}



.staff-svg{
  position:absolute;
  inset:0;
  width:100%;
  height:100%;
  overflow: visible;

  z-index: 1; /* above ::after */
    -webkit-mask-image: linear-gradient(to right,
    transparent 0%,
    transparent 13%,
    rgba(0,0,0,1) 16%,
    rgba(0,0,0,1) 100%
  );
  mask-image: linear-gradient(to right,
    transparent 0%,
    transparent 13%,
    rgba(0,0,0,1) 16%,
    rgba(0,0,0,1) 100%
  );

  -webkit-mask-repeat: no-repeat;
  mask-repeat: no-repeat;
  -webkit-mask-size: 100% 100%;
  mask-size: 100% 100%;

}

.staff-svg path{
  fill: none;
  stroke: rgba(0,0,0,.28);
  stroke-width: var(--staff-thick);
  vector-effect: non-scaling-stroke;
}

.staff-svg path.line-1,
.staff-svg path.line-5{ stroke: rgba(0,0,0,.32); }

.staff-svg path.line-2,
.staff-svg path.line-4{ stroke: rgba(0,0,0,.20); }

.staff-svg path.line-3{ stroke: rgba(0,0,0,.32); }



.intro-block{
  position: relative;
  z-index: 2;
  display: grid;
  grid-template-columns: minmax(280px, 360px) auto;
  align-items: center;
  gap: clamp(18px, 2.4vw, 28px);
  min-width: 1100px;
  padding-left: 150px;
  background:transparent;
}

.intro-text p{
  font-family: "Inter", system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
  font-size: clamp(14px, 1.05vw, 18px);
  line-height: 1.55;
  color: #0f0f0f;
}

.intro-photo{
  width: clamp(500px, 50vw, 520px);
  height: auto;
  object-fit: cover;
  z-index: 2;
}



.staff-track{
  position: relative;
  z-index: 2;
  display: inline-flex;
  align-items: center;
  gap: clamp(220px, 18vw, 360px);
  padding-right: 10vw;
  min-width: 3200px;
}

.note-block{
  position: relative;
  display: grid;
  grid-template-rows: 1fr auto 1fr;
  align-items: center;
  justify-items: center;

  height: min(68vh, 820px);
  background: none;
  border: none;
  padding: 0;
  cursor: pointer;
  overflow: visible !important;

  perspective: 1400px;
  transform-style: preserve-3d;
  transition: transform 420ms ease, filter 420ms ease, margin-right 520ms ease;
  margin-right: 0;

  
  --wave-lift: 0px;
  --wave-drift-x: 0px;
  --wave-tilt: 0deg;
}

.note-title{
  color: #000;
  transition: color .18s ease, text-shadow .18s ease, transform .18s ease;
  transform-style: preserve-3d;
}

.note-img:hover{
  transform:
    translateY(var(--note-offset, 0px))
    translateX(var(--wave-drift-x, 0px))
    translateY(calc(var(--wave-lift, 0px) * -1))
    rotate(var(--wave-tilt, 0deg))
    scale(1.08);
  filter: var(--note-filter, none);
}


.note-title .letter:hover{
  color: var(--note-color, #000);
  transform:
    translateX(var(--l-drift-x, 0px))
    translateY(calc(var(--l-lift, 0px) * -1 - 2px))
    rotate(var(--l-tilt, 0deg));
}

.note-img,
.note-title .letter{
  pointer-events: auto;
}


.note-notes{
  grid-row: 2;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: clamp(-26px, -2.4vw, -12px);
  position: relative;
  z-index: 2;
  transform-style: preserve-3d;
  transition: transform 480ms ease, filter 320ms ease;
}


.note-img{
  grid-row: 2;
  width: var(--note-size, clamp(140px, 10.5vw, 180px));
  height: auto !important;
  user-select: none;

    transform:
    translateY(calc(var(--note-offset, 0px) + var(--note-y, 0px)))
    translateX(var(--wave-drift-x, 0px))
    translateY(calc(var(--wave-lift, 0px) * -1))
    rotate(var(--wave-tilt, 0deg))
    translateZ(var(--turn-z, 0px))
    rotateX(var(--turn-x, 0deg))
    rotateY(var(--turn-y, 0deg))
    rotateZ(var(--turn-zr, 0deg))
    scale(var(--turn-scale, 1));
  transition: transform .18s ease, filter .18s ease;
  will-change: transform;
}




.note-block.wave-active .note-img{
  transform:
    translateY(var(--note-offset, 0px))
    translateX(var(--wave-drift-x, 0px))
    translateY(calc(var(--wave-lift, 0px) * -1))
    rotate(var(--wave-tilt, 0deg))
    translateZ(var(--turn-z, 0px))
    rotateX(var(--turn-x, 0deg))
    rotateY(var(--turn-y, 0deg))
    rotateZ(var(--turn-zr, 0deg))
    scale(calc(var(--turn-scale, 1) * 1.08));
  filter: var(--note-filter, none);
}



.note-block[data-category="education"]{
  --note-color: #ff2d2d;
  --note-filter: brightness(1.05) saturate(1.6) hue-rotate(-10deg);
}

.note-block[data-category="skills"]{
  --note-color: #ffd000;
  --note-filter: brightness(1.12) saturate(2.2) hue-rotate(35deg);
}

.note-block[data-category="work"]{
  --note-color: #8b3dff;
  --note-filter: brightness(1.05) saturate(1.9) hue-rotate(230deg);
}

.note-block[data-category="contact"]{
  --note-color: #1e66ff;
  --note-filter: brightness(1.03) saturate(1.8) hue-rotate(200deg);
}


.note-block:nth-child(1) .note-img { --note-offset: -6px; }
.note-block:nth-child(2) .note-img { --note-offset:  4px; }
.note-block:nth-child(3) .note-img { --note-offset: -2px; }
.note-block:nth-child(4) .note-img { --note-offset:  12px; }



.label{
  font-family: "Abril Fatface", serif;
  letter-spacing: -7px;
  line-height: .9;
  color: #000;
  font-size: clamp(84px, 14vw, 240px);
  white-space: nowrap;
}

.label.top{
  grid-row: 1;
  align-self: end;
  transform: translateY(0px);
}

.label.bottom{
  grid-row: 3;
  align-self: start;
  transform: translateY(2px);
}

.note-block.is-turned{
  --turn-z: 24px;
  --turn-x: 34deg;
  --turn-y: -18deg;
  --turn-zr: -2deg;
  --turn-scale: 1.06;
  --turn-title-shift: 28px;
  --turn-title-z: 10px;
  --turn-title-x: 18deg;
  --turn-title-y: -10deg;
  filter: drop-shadow(0 24px 34px rgba(0,0,0,.18));
}

.note-block:hover,
.note-block:focus-visible,
.note-block:focus-within,
.note-block.panel-pinned{
  margin-right: clamp(260px, 30vw, 620px);
}

.note-panel{
  position: absolute;
  top: 50%;
  left: calc(100% + 28px);
  transform: translateY(-50%) translateX(14px) scale(0.985);
  opacity: 0;
  pointer-events: none;
  transition: opacity 320ms ease, transform 420ms ease;
  z-index: 4;
  max-height: 100%;
}

.note-block:hover .note-panel,
.note-block:focus-visible .note-panel,
.note-block:focus-within .note-panel,
.note-block:has(.note-panel:hover) .note-panel{
  opacity: 1;
  pointer-events: auto;
  transform: translateY(-50%) translateX(0) scale(1);
}

.note-panel__card{
  width: min(620px, 78vw);
  max-height: min(68vh, 620px);
  overflow: auto;
  scrollbar-width: thin;
  scrollbar-color: rgba(255,255,255,.2) transparent;
  padding: clamp(18px, 2.4vw, 28px);
  border-radius: 20px;
  background:
    radial-gradient(140% 140% at 0% 0%, rgba(42,42,46,.4) 0%, rgba(14,14,18,.98) 55%, rgba(10,10,14,1) 100%);
  border: 1px solid rgba(255,255,255,.08);
  box-shadow:
    0 22px 60px rgba(0,0,0,.6),
    0 2px 12px rgba(255,255,255,.05);
  text-align: left;
}

.note-panel__card h3{
  margin: 0 0 12px;
  font-family: "Abril Fatface", serif;
  font-size: clamp(22px, 2.4vw, 34px);
  letter-spacing: -0.5px;
  color: #f4f4f6;
}

.note-panel__group{
  margin: 14px 0 12px;
  padding-top: 10px;
  border-top: 1px solid rgba(0,0,0,.08);
}

.note-panel__group:first-of-type{
  margin-top: 6px;
  padding-top: 0;
  border-top: 0;
}

.note-panel__group h4{
  margin: 0 0 10px;
  font: 600 clamp(13px, 1.1vw, 16px) "Inter", system-ui;
  color: #c9c9cf;
  text-transform: uppercase;
  letter-spacing: 0.06em;
}

.note-panel__meta{
  margin: -2px 0 8px;
  font: 500 clamp(12px, 1vw, 14px) "Inter", system-ui;
  color: rgba(200,200,210,.7);
}

.note-panel__list{
  margin: 0;
  padding-left: 18px;
  font: 400 clamp(12px, 1vw, 15px) "Inter", system-ui;
  line-height: 1.6;
  color: rgba(225,225,232,.84);
}

.note-panel__list li{
  margin: 6px 0;
}

.note-panel__chips{
  display: flex;
  flex-wrap: wrap;
  gap: 8px 10px;
}

.chip{
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 8px 12px;
  border-radius: 999px;
  background: rgba(22,22,26,.9);
  border: 1px solid rgba(255,255,255,.08);
  font: 500 clamp(12px, 1vw, 14px) "Inter", system-ui;
  color: #f0f0f3;
}

.chip img{
  width: 18px;
  height: 18px;
  object-fit: contain;
}

.note-panel__hint{
  margin: 4px 0 0;
  font: 400 clamp(13px, 1.1vw, 16px) "Inter", system-ui;
  color: rgba(210,210,220,.75);
}

@media (max-width: 900px){
  .note-block:hover,
  .note-block:focus-visible,
  .note-block:focus-within,
  .note-block.panel-pinned{
    margin-right: clamp(180px, 40vw, 420px);
  }

  .note-panel{
    left: calc(100% + 18px);
  }
}

@media (max-width: 700px){
  .note-panel{
    position: absolute;
    top: auto;
    bottom: -12px;
    left: 50%;
    transform: translate(-50%, 100%) scale(0.985);
  }

  .note-block:hover .note-panel,
  .note-block:focus-visible .note-panel,
  .note-block:focus-within .note-panel,
  .note-block:has(.note-panel:hover) .note-panel{
    transform: translate(-50%, 100%) scale(1);
  }
}

.panel-placeholder{
  width: 100%;
  display: grid;
  place-items: center;
}

.panel-placeholder__box{
  width: min(520px, 70vw);
  aspect-ratio: 1 / 1;
  border-radius: 18px;
  border: 1px dashed rgba(255,255,255,.25);
  background: rgba(10,10,14,.8);
  color: rgba(220,220,230,.7);
  font: 600 clamp(12px, 1vw, 14px) "Inter", system-ui;
  letter-spacing: 0.18em;
  text-transform: uppercase;
  display: grid;
  place-items: center;
}



.about-scrubber{
  position: sticky;
  top: 0;
  z-index: 5;
  width: min(900px, 86vw);
  height: 12px;

  display: grid;
  align-items: center;

  opacity: 0;
  pointer-events: none;
  transition: opacity .25s ease;

  margin: 0 auto;
  justify-self: center;

  padding-top: 50px;
}

.about-scrubber.visible{
  opacity: 1;
  pointer-events: auto;
}

.about-scrubber__track{
  height: 3px;
  width: 100%;
  background: rgba(0,0,0,.12);
  border-radius: 999px;
  position: relative;
}

.about-scrubber__thumb{
  position: absolute;
  top: 0; left: 0;
  height: 100%;
  width: 80px;
  background: rgba(0,0,0,.45);
  border-radius: 999px;
  cursor: pointer;
  transform: translateX(0);
  transition: background .15s ease;
}

.about-scrubber__thumb:hover{ background: rgba(0,0,0,.6); }




.about-modal{
  position: fixed;
  inset: 0;
  z-index: 2147483647;
  display: none;              /* hidden by default */
  place-items: center;
}
/* open state */
.about-modal.open{
  display: grid;              /* shown only when open */
}

/* backdrop */
.about-modal__backdrop{
  position: absolute;
  inset: 0;
  background: rgba(0,0,0,.18);
  backdrop-filter: blur(6px);
  opacity: 0;
  transition: opacity 260ms ease;
}

/* dialog */
.about-modal__dialog{
  position: relative;
  width: min(1200px, 96vw);
  max-height: min(86vh, 1100px);
  overflow: auto;

  background: #fff;
  color: #141414;
  border-radius: 24px;
  box-shadow:
    0 10px 20px rgba(0,0,0,.10),
    0 40px 120px rgba(0,0,0,.22);
  padding: clamp(22px, 2.8vw, 40px);

  opacity: 0;
  transform: translateY(14px) scale(.985);
  transition: opacity 260ms ease, transform 260ms ease;
}

/* animate in */
.about-modal.open .about-modal__backdrop{ opacity: 1; }
.about-modal.open .about-modal__dialog{
  opacity: 1;
  transform: translateY(0) scale(1);
}

/* animate out (when we add .closing) */
.about-modal.closing .about-modal__backdrop{ opacity: 0; }
.about-modal.closing .about-modal__dialog{
  opacity: 0;
  transform: translateY(10px) scale(.985);
}



.about-modal__close{
  position:absolute;
  top:12px; right:14px;
  background:transparent;
  border:none;
  cursor:pointer;
  font-size:28px;
  line-height:1;
  color:#222;
  opacity:.7;
  transition: opacity .15s ease, transform .15s ease;
}

.about-modal__close:hover{
  opacity:1;
  transform: scale(1.05);
}

#about-modal-body{
  max-width: 980px;
  margin: 0 auto;
}

#about-modal-body h3{
  position: sticky;
  top: 0;
  z-index: 2;
  background:#fff;
  padding: 10px 0 12px;
  margin: 0 0 14px;
  font-family: "Abril Fatface", serif;
  font-size: clamp(28px, 4vw, 56px);
  letter-spacing:-0.5px;
  line-height:.9;
  text-transform: lowercase;
  border-bottom: 1px solid rgba(0,0,0,.06);
}

#about-modal-body h4{
  margin: 18px 0 8px;
  font: 600 clamp(14px,1.2vw,18px) "Inter", system-ui;
  color:#111;
}

#about-modal-body p,
#about-modal-body li{
  font: 400 clamp(13px,1vw,16px) "Inter", system-ui;
  line-height: 1.65;
  color:#2b2b2b;
}

#about-modal-body ul{ padding-left: 18px; }

#about-modal-body article{ margin: 10px 0 14px; }

#about-modal-body .group{
  padding: 8px 0 14px;
  border-top: 1px solid rgba(0,0,0,.06);
  margin-top: 10px;
}



.skills-grid{
  list-style:none;
  display:grid;
  grid-template-columns: repeat(auto-fit, minmax(86px, 1fr));
  gap: 14px 24px;
  padding: 6px 0 2px;
  margin: 6px 0 12px;
  justify-items:center;
}

.skills-grid li{
  display:flex;
  align-items:center;
  justify-content:center;
}

.skills-grid img{
  width: 96px;
  height: 96px;
  object-fit: contain;
  user-select:none;
  transform: translateZ(0);
  transition: transform .18s ease, filter .18s ease;
  filter: drop-shadow(0 0 0 transparent);
}

.skills-grid img:hover{
  transform: scale(1.08);
  filter: drop-shadow(0 2px 6px rgba(0,0,0,.12));
}



.note-title .letter{
  display: inline-block;
  transform-style: preserve-3d;
  transform:
    translateX(var(--l-drift-x, 0px))
    translateY(calc(var(--l-lift, 0px) * -1 + var(--turn-title-shift, 0px)))
    rotate(var(--l-tilt, 0deg))
    translateZ(var(--turn-title-z, 0px))
    rotateX(var(--turn-title-x, 0deg))
    rotateY(var(--turn-title-y, 0deg));
  will-change: transform;
}


.note-block.wave-active .note-title{
  transform: none !important;
}



.note-block.wave-releasing .note-img{
  animation: wave-drop-img 520ms cubic-bezier(.25,.6,.15,1) forwards;
}

.note-block.wave-releasing .note-title .letter{
  animation: wave-drop-letter 520ms cubic-bezier(.25,.6,.15,1) forwards;
}

@keyframes wave-drop-img{
  0%{
    transform:
      translateY(var(--note-offset, 0px))
      translateX(var(--wave-drift-x, 0px))
      translateY(calc(var(--wave-lift, 0px) * -1))
      rotate(var(--wave-tilt, 0deg));
  }
  70%{
    transform:
      translateY(var(--note-offset, 0px))
      translateX(calc(var(--wave-drift-x, 0px) * 0.35))
      translateY(14px)
      rotate(calc(var(--wave-tilt, 0deg) * -0.4));
  }
  100%{
    transform:
      translateY(var(--note-offset, 0px))
      translateX(0px)
      translateY(0px)
      rotate(0deg);
  }
}

@keyframes wave-drop-letter{
  0%{
    transform:
      translateX(var(--l-drift-x, 0px))
      translateY(calc(var(--l-lift, 0px) * -1))
      rotate(var(--l-tilt, 0deg));
  }
  70%{
    transform:
      translateX(calc(var(--l-drift-x, 0px) * 0.35))
      translateY(10px)
      rotate(calc(var(--l-tilt, 0deg) * -0.4));
  }
  100%{
    transform: translateX(0px) translateY(0px) rotate(0deg);
  }
}



#aboutTrack{
  overflow-y: visible !important;
}
.staff-track,
.strip{
  overflow: visible !important;
}

.note-block:hover .note-title,
.note-title:hover{
  color: var(--note-color, #000);
}

.note-title .letter{
  display: inline-block;
  transform-style: preserve-3d;
  color: inherit;
  transform:
    translateX(var(--l-drift-x, 0px))
    translateY(calc(var(--l-lift, 0px) * -1 + var(--turn-title-shift, 0px)))
    rotate(var(--l-tilt, 0deg))
    translateZ(var(--turn-title-z, 0px))
    rotateX(var(--turn-title-x, 0deg))
    rotateY(var(--turn-title-y, 0deg));
  will-change: transform;
}

.note-block[data-category="skills"] .note-img.n1{
  --note-size: 200px;
}

.note-block[data-category="work"] .note-img.n2{
  --note-size: 200px;
}
.note-block[data-category="contact"] .note-img.n3{
  --note-size: 200px;
}
.note-block[data-category="education"] .note-img.edu-1{

  --note-y: 12px;  
}

.about .about-stars{
  position: absolute;
  inset: 0;
  z-index: 0;
  pointer-events: none;
  opacity: var(--stars-opacity);
  transition: opacity 1100ms ease;
}

/* Each layer uses tiled radial-gradients (CSS-only “stars”) */
.about .about-stars .stars{
  position: absolute;
  inset: -30%;
  background-repeat: repeat;
  background-position: 0 0;
  will-change: transform, background-position;
  transform: translate3d(0,0,0);
}

/* Tiny stars */
.about .about-stars .stars.s1{
  background-image:
    radial-gradient(circle, rgba(255,255,255,.85) 0 1px, transparent 1px 100%),
    radial-gradient(circle, rgba(255,255,255,.55) 0 1px, transparent 1px 100%);
  background-size: 180px 180px, 260px 260px;
  animation: starsDrift1 70s linear infinite;
}

/* Medium stars */
.about .about-stars .stars.s2{
  background-image:
    radial-gradient(circle, rgba(255,255,255,.75) 0 1.5px, transparent 1.5px 100%),
    radial-gradient(circle, rgba(255,255,255,.35) 0 1.5px, transparent 1.5px 100%);
  background-size: 260px 260px, 420px 420px;
  animation: starsDrift2 110s linear infinite;
  filter: blur(.1px);
}

/* Big “sparkles” */
.about .about-stars .stars.s3{
  background-image:
    radial-gradient(circle, rgba(255,255,255,.55) 0 2px, transparent 2px 100%),
    radial-gradient(circle, rgba(255,255,255,.25) 0 2px, transparent 2px 100%);
  background-size: 420px 420px, 680px 680px;
  animation: starsDrift3 160s linear infinite;
  filter: blur(.15px);
}

@keyframes starsDrift1{
  from{ transform: translate3d(0,0,0); background-position: 0 0, 0 0; }
  to  { transform: translate3d(0,-900px,0); background-position: 0 -900px, 0 -1200px; }
}
@keyframes starsDrift2{
  from{ transform: translate3d(0,0,0); background-position: 0 0, 0 0; }
  to  { transform: translate3d(0,-1200px,0); background-position: 0 -1200px, 0 -1600px; }
}
@keyframes starsDrift3{
  from{ transform: translate3d(0,0,0); background-position: 0 0, 0 0; }
  to  { transform: translate3d(0,-1600px,0); background-position: 0 -1600px, 0 -2200px; }
}

/* Theme ON (when hovering a note) */
.about.stars-on{
  --space-opacity: 1;
  --stars-opacity: .32;   /* keep subtle */
  --staff-opacity: 1;
 
}


/* reveal stars on theme */
.about.stars-on .about-stars{
  opacity: 1;
}
.note-block.theme-on .label,
.note-block.theme-on .note-title{
  color: #fff;
}
.about.stars-on .intro-text p{
  color: rgba(255,255,255,0.88);
}

/* Optional: subtle glow only on active block */
.note-block.theme-on .label{
  text-shadow: 0 10px 30px rgba(0,0,0,.35);
}

/* OPTIONAL: small glow so text pops */
.about.stars-on .label{
  text-shadow: 0 10px 30px rgba(0,0,0,.35);
}

/* Staff lines: default stays black-ish */
.staff-svg path{
  stroke: rgba(0,0,0,.28);
}

/* When theme on, stroke becomes SVG gradient (set by JS in <defs>) */
.about.stars-on .staff-svg path{
  stroke: url(#staffGrad);
  stroke-opacity: .75; /* subtle, not full white */
}

/* INTRO mask: hides staff lines behind the paragraph/photo area ONLY */
.intro-block{
  position: relative;
  z-index: 3;              /* above staff lines */
  background: transparent; /* base */
}


.about.stars-on .intro-block::before{
  background: rgba(8, 10, 14, 0.42);
  border: 1px solid rgba(255,255,255,0.10);
  box-shadow: 0 18px 60px rgba(0,0,0,0.22);
  backdrop-filter: blur(8px);
}


#about-modal .about-modal__backdrop{
  position:absolute !important;
  inset:0 !important;
  z-index: 0 !important;
}

#about-modal .about-modal__dialog{
  position: relative !important;
  z-index: 1 !important;
}

.background-wrapper{
  position: fixed;
  inset: 0;
  z-index: -1;           /* key */
  pointer-events: none;  /* key */
}

html, body{
  isolation: isolate;
}

#about-modal{
  position: fixed;
  inset: 0;
  z-index: 2147483647;
  display: none;           /* CLOSED = not rendered */
  place-items: center;
}

#about-modal.open{
  display: grid;           /* OPEN = visible */
}
body.modal-open{
  overflow: hidden; /* harmless with position:fixed, keeps consistent */
}
.about::after{
  content:"";
  position:absolute;
  z-index: 99;
  inset:0;
  /*abovestafflines(z:;
  1),belowintro-block(z:;
  2/3)*/pointer-events:none;
  opacity: var(--vignette-opacity);
  transition: opacity 700ms ease;
  /*arcedvignette*/background:    radial-gradient(      ellipse at 50% 58%,      rgba(0,0,0,0) 0%,      rgba(0,0,0,0) 42%,      rgba(0,0,0,0.35) 62%,      rgba(0,0,0,0.72) 78%,      rgba(0,0,0,0.92) 100%    );
  filter: blur(0.2px);
}

.about.stars-on{
  --vignette-opacity: 1;
}

#aboutTrack{
  overscroll-behavior-y: auto;    /* allow mouse wheel to scroll the page */
  -webkit-overflow-scrolling: touch;
  scroll-behavior: auto;
}
.about .about-scrubber__track{
  background: rgba(20,20,20,0.14);
  border: 1px solid rgba(20,20,20,0.20);
}

.about .about-scrubber__thumb{
  background: rgba(20,20,20,0.85);
  box-shadow: 0 6px 16px rgba(0,0,0,0.18);
}

/* Dark mode when stars are on */
.about.stars-on .about-scrubber__track{
  background: rgba(255,255,255,0.18);
  border: 1px solid rgba(255,255,255,0.30);
}

.about.stars-on .about-scrubber__thumb{
  background: rgba(255,255,255,0.92);
  box-shadow: 0 10px 22px rgba(0,0,0,0.22);
}

/* Optional: make the whole scrubber container glow a bit in dark mode */
.about.stars-on .about-scrubber{
  filter: drop-shadow(0 10px 18px rgba(0,0,0,0.20));
}
