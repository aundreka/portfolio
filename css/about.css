/* ===============================
   ABOUT SECTION — GLOBAL CONTROLS
   =============================== */

:root{
  --staff-gap: 48px;
  --staff-thick: 2px;
  --staff-start-mask: calc(28vw + 210px);
  
}

/* Section container */
.about{
  position: relative;
  height: 100vh;
  background: #fff;
  /* let tall content (bottom labels) be visible */
  overflow: visible;
  isolation: isolate;

  /* spacing around section */
  margin-top: 100px;
  margin-bottom: 100px;

  /* reserve space for the sticky scrubber bar */
  padding-top: var(--scrubber-space);
  /* inner breathing room so bottom labels don't kiss the edge */
  padding-bottom: 102px;
}

/* The horizontal scroller fills the remaining height.
   Keep this simple and predictable. */
.about__scroller{
  width: 100%;
  height: 100%;
  position: relative;
  overflow-x: auto;
  overflow-y: visible;
  scrollbar-width: none;
  -ms-overflow-style: none;
}
.about__scroller::-webkit-scrollbar{ display: none; }

/* The strip grows with its children so we get real overflow */
.strip{
  position: relative;
  display: inline-flex;
  align-items: center;
  gap: clamp(120px, 12vw, 220px);
  padding: 0 clamp(32px, 4vw, 64px);
}

/* ---------- STAFF LINES ---------- */
/* ---------- STAFF LINES (EXTRA TALL SAFE ZONE) ---------- */
.staff-lines{
  position: absolute;
  left: 0;
  right: 0;

  /* increase BOTH top and bottom space */
  top: -680px;
  bottom: -680px;

  z-index: 1;
  pointer-events: none;
  overflow: visible;
}
/* start-mask must stretch too */
.staff-lines::after{
  content:"";
  position:absolute;
  top:0; left:0; bottom:0;
  width: var(--staff-start-mask);
  background:#fff;
  z-index: 2;
}

/* SVG fills expanded area */
.staff-svg{
  position:absolute;
  inset:0;
  width:100%;
  height:100%;
  overflow: visible;
}

/* stroke styling to match your old opacity variation */
.staff-svg path{
  fill: none;
  stroke: rgba(0,0,0,.28);
  stroke-width: var(--staff-thick);
  vector-effect: non-scaling-stroke;
}

.staff-svg path.line-1,
.staff-svg path.line-5{ stroke: rgba(0,0,0,.32); }

.staff-svg path.line-2,
.staff-svg path.line-4{ stroke: rgba(0,0,0,.20); }

.staff-svg path.line-3{ stroke: rgba(0,0,0,.32); }

/* Lift the hovered note in sync (JS updates --wave-lift) */
.note-block{
  --wave-lift: 0px;
}

.note-block.wave-active .note-img{
  transform:
    translateY(calc(var(--note-offset, 0px) - var(--wave-lift)))
    scale(1.08);
  filter: var(--note-filter, none);
}
.note-block.wave-releasing .note-img,
.note-block.wave-releasing .note-title {
  animation: wave-drop 520ms cubic-bezier(.25,.6,.15,1) forwards;
}

@keyframes wave-drop {
  0% {
    transform:
      translateY(calc(var(--note-offset, 0px) - var(--wave-lift)))
      rotate(var(--wave-tilt));
  }
  70% {
    transform:
      translateY(calc(var(--note-offset, 0px) + 14px))
      rotate(calc(var(--wave-tilt) * -0.4));
  }
  100% {
    transform:
      translateY(var(--note-offset, 0px))
      rotate(0deg);
  }
}


/* ---------- INTRO (text + photo) ---------- */
.intro-block{
  position: relative;
  z-index: 2;
  display: grid;
  grid-template-columns: minmax(280px, 360px) auto;
  align-items: center;
  gap: clamp(18px, 2.4vw, 28px);
  min-width: 1100px;
  padding-left: 200px;
}
.intro-text p{
  font-family: "Inter", system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
  font-size: clamp(14px, 1.05vw, 18px);
  line-height: 1.55;
  color: #0f0f0f;
}
.intro-photo{
  width: clamp(500px, 50vw, 520px);
  height: auto;
  object-fit: cover;
  z-index: 2;
}

/* ---------- LONG STAFF CONTENT ---------- */
.staff-track{
  position: relative;
  z-index: 2;
  display: inline-flex;
  align-items: center;
  gap: clamp(220px, 18vw, 360px);
  padding-right: 10vw;
  
  min-width: 3200px;
  
}
.note-title{
  color: #000;
  transition: color .18s ease, text-shadow .18s ease, transform .18s ease;
}

/* On hover, set title to the category color */
.note-block:hover .note-title{
  color: var(--note-color, #000);
  transform: translateY(-2px);
}
.note-block{
  position: relative;
  display: grid;
  grid-template-rows: 1fr auto 1fr;
  align-items: center;
  justify-items: center;
  height: min(68vh, 820px);  /* prevents extreme clipping on tall screens */
  background: none;
  border: none;
  padding: 0;
  cursor: pointer;
    overflow: visible !important; /* ← THIS IS REQUIRED */

  
}
.note-img{
  grid-row: 2;
  width: clamp(300px, 20vw, 380px);
  height: auto;
  user-select: none;
  transform: translateY(var(--note-offset, 0px));
  transition: transform .18s ease, filter .18s ease;
}

/* On hover: keep your scale and apply tint filter */
.note-block:hover .note-img{
  transform: translateY(var(--note-offset, 0px)) scale(1.08);
  filter: var(--note-filter, none);
}
/* Education = Red */
.note-block[data-category="education"]{
  --note-color: #ff2d2d;
  --note-filter: brightness(1.05) saturate(1.6) hue-rotate(-10deg);
}

/* Skills = Yellow */
.note-block[data-category="skills"]{
  --note-color: #ffd000;
  --note-filter: brightness(1.12) saturate(2.2) hue-rotate(35deg);
}

/* Work = Purple */
.note-block[data-category="work"]{
  --note-color: #8b3dff;
  --note-filter: brightness(1.05) saturate(1.9) hue-rotate(230deg);
}

/* Contact = Blue */
.note-block[data-category="contact"]{
  --note-color: #1e66ff;
  --note-filter: brightness(1.03) saturate(1.8) hue-rotate(200deg);
}
.note-block:nth-child(1) .note-img { --note-offset: -6px; }
.note-block:nth-child(2) .note-img { --note-offset:  4px; }
.note-block:nth-child(3) .note-img { --note-offset: -2px; }
.note-block:nth-child(4) .note-img { --note-offset:  12px; }

.label{
  font-family: "Abril Fatface", serif;
  letter-spacing: -7px;
  line-height: .9;
  color: #000;
  font-size: clamp(84px, 14vw, 240px);
  white-space: nowrap;
}
.label.top    { grid-row: 1; align-self: end; transform: translateY(0px); -webkit-transform: translateY(0px); -moz-transform: translateY(0px); -ms-transform: translateY(0px); -o-transform: translateY(0px); }
.label.bottom { grid-row: 3; align-self: start; transform: translateY( 2px); -webkit-transform: translateY( 2px); -moz-transform: translateY( 2px); -ms-transform: translateY( 2px); -o-transform: translateY( 2px); }


/* ---------- SCRUBBER (sticky inside About) ---------- */
.about-scrubber{
  position: sticky;
  top: 0;
  z-index: 5;
  width: min(900px, 86vw);
  height: 12px;
  padding: 0 auto 100px;  /* small gap below bar */
  display: grid;
  align-items: center;
  opacity: 0;
  pointer-events: none;
  transition: opacity .25s ease;
  padding-bottom: 100px;  /* space below bar */
}
.about-scrubber.visible{
  opacity: 1;
  pointer-events: auto;
}
.about-scrubber__track{
  height: 3px;
  width: 100%;
  background: rgba(0,0,0,.12);
  border-radius: 999px;
  position: relative;
}
.about-scrubber__thumb{
  position: absolute;
  top: 0; left: 0;
  height: 100%;
  width: 80px;                 /* JS will size it */
  background: rgba(0,0,0,.45);
  border-radius: 999px;
  cursor: pointer;
  transform: translateX(0);
  transition: background .15s ease;
}
.about-scrubber__thumb:hover{ background: rgba(0,0,0,.6); }

/* ===== ABOUT MODAL: container & backdrop ===== */
.about-modal[hidden]{ display:none; }
.about-modal{
  position:absolute; inset:0; z-index:60;
  display:grid; place-items:center;
}

/* Keep backdrop clear/blur-only (no darkening) */
.about-modal__backdrop{
  position:absolute; inset:0;
  background: transparent;
  backdrop-filter: blur(3px);
}

/* ===== Dialog card ===== */
.about-modal__dialog{
  position:relative;
  width:min(1200px, 96vw);        /* wider */
  max-height:min(86vh, 1100px);
  overflow:auto;

  /* Minimal, airy white card */
  background:#fff;
  color:#141414;
  border-radius:24px;
  box-shadow:
    0 10px 20px rgba(0,0,0,.06),
    0 40px 120px rgba(0,0,0,.10);
  padding: clamp(22px, 2.8vw, 40px);

  /* Start state for animation */
  opacity:0;
  transform: translateY(12px) scale(.985);
  animation: modal-in .28s cubic-bezier(.2,.7,.2,1) forwards;
}

/* Closing animation state toggled by JS */
.about-modal.closing .about-modal__dialog{
  animation: modal-out .22s ease forwards;
}

/* Motion safety */
@media (prefers-reduced-motion: reduce){
  .about-modal__dialog{ animation:none; opacity:1; transform:none; }
  .about-modal.closing .about-modal__dialog{ animation:none; }
}

/* Keyframes */
@keyframes modal-in{
  from{ opacity:0; transform: translateY(12px) scale(.985); }
  to  { opacity:1; transform: translateY(0) scale(1); }
}
@keyframes modal-out{
  from{ opacity:1; transform: translateY(0) scale(1); }
  to  { opacity:0; transform: translateY(8px) scale(.985); }
}

/* Close button: subtle + visible on white */
.about-modal__close{
  position:absolute; top:12px; right:14px;
  background:transparent; border:none; cursor:pointer;
  font-size:28px; line-height:1;
  color:#222; opacity:.7; transition: opacity .15s ease, transform .15s ease;
}
.about-modal__close:hover{ opacity:1; transform: scale(1.05); }

/* ===== Content styling (minimal & aesthetic) ===== */
#about-modal-body{
  /* limit line length for comfy reading */
  max-width: 980px;
  margin: 0 auto;
}

/* Title: sticky & with subtle divider */
#about-modal-body h3{
  position: sticky; top: 0; z-index: 2;
  background:#fff;
  padding: 10px 0 12px;
  margin: 0 0 14px;
  font-family: "Abril Fatface", serif;
  font-size: clamp(28px, 4vw, 56px);
  letter-spacing:-0.5px; line-height:.9; text-transform: lowercase;
  border-bottom: 1px solid rgba(0,0,0,.06);
}

#about-modal-body h4{
  margin: 18px 0 8px;
  font: 600 clamp(14px,1.2vw,18px) "Inter", system-ui;
  color:#111;
}

/* Body text & lists */
#about-modal-body p,
#about-modal-body li{
  font: 400 clamp(13px,1vw,16px) "Inter", system-ui;
  line-height: 1.65;
  color:#2b2b2b;
}
#about-modal-body ul{ padding-left: 18px; }

/* Section spacing: compact but tidy */
#about-modal-body article{ margin: 10px 0 14px; }

/* Subtle separators between major groups (e.g., skills categories) */
#about-modal-body .group{
  padding: 8px 0 14px;
  border-top: 1px solid rgba(0,0,0,.06);
  margin-top: 10px;
}

/* ===== Icon grids (skills) ===== */
.skills-grid{
  list-style:none;
  display:grid;
  grid-template-columns: repeat(auto-fit, minmax(86px, 1fr));
  gap: 14px 24px;                 /* tighter vertical spacing */
  padding: 6px 0 2px;
  margin: 6px 0 12px;
  justify-items:center;
}
.skills-grid li{
  display:flex; align-items:center; justify-content:center;
}
.skills-grid img{
  width: 96px; height:96px;        /* larger icons */
  object-fit: contain; user-select:none;
  transform: translateZ(0);
  transition: transform .18s ease, filter .18s ease;
  filter: drop-shadow(0 0 0 transparent);
}
.skills-grid img:hover{
  transform: scale(1.08);
  filter: drop-shadow(0 2px 6px rgba(0,0,0,.12));
}
.note-block{
  --wave-lift: 0px;
  --wave-drift-x: 0px;
  --wave-tilt: 0deg;
}

/* Apply the motion to the WHOLE block so title+note move together */
.note-block.wave-active{
  transform: translateX(var(--wave-drift-x));
}

/* Image follows the crest (lift) */
.note-block.wave-active .note-img{
  transform:
    translateY(calc(var(--note-offset, 0px) - var(--wave-lift)))
    rotate(var(--wave-tilt))
    scale(1.08);
}

/* Title follows too (same lift direction but slightly less) */
.note-block.wave-active .note-title{
  transform:
    translateY(calc(-2px - min(70px, (var(--wave-lift) * 0.22))))
    rotate(calc(var(--wave-tilt) * 0.55));
}
#aboutTrack{
  overflow-y: visible !important;
}

.staff-track,
.strip{
  overflow: visible !important;
}
